"use strict"

var path = require("path");
var util = require("util");
var fs = require("fs");
var assert = require("chai").assert;
var Database = process.requireAPI("lib/Database.js");

function ExampleDatabase(databaseConf){
  Database.call(this, databaseConf);
}

module.exports = ExampleDatabase;
util.inherits(ExampleDatabase, Database);

// Set module root directory
process.rootAPI = path.join(__dirname, "../../");
process.requireAPI = function(filePath){
  return require(path.normalize(process.rootAPI + "/" + filePath));
};

var EntityProvider = process.requireAPI("lib/providers/EntityProvider.js");

describe("EntityProvider", function(){
  
  it("Should expose crud methods to interact with database", function(){
    assert.isFunction(EntityProvider.prototype.get);
    assert.isFunction(EntityProvider.prototype.getOne);
    assert.isFunction(EntityProvider.prototype.add);
    assert.isFunction(EntityProvider.prototype.update);
    assert.isFunction(EntityProvider.prototype.remove);
  });
  
  it("Should initialize only if a database and a collection is given", function(){
    new EntityProvider(new ExampleDatabase({}), "A collection");
  });

});